<html><head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>テスト</title>
</head><body style="margin: 0; overflow: hidden;">
	<div>Hello World</div>
	<script type="text/javascript">
// ----------------------------------------------------------------
// ----------------------------------------------------------------
// ----------------------------------------------------------------

document.addEventListener("DOMContentLoaded", e => {
	true && (() => {
		const callback = `call${Math.floor(Math.random() * 0xffff)}`;
		Promise.resolve().then(() => new Promise(resolve => {
			const value1 = "test";
			window.fuhahaCallbacks = window.fuhahaCallbacks || {};
			window.fuhahaCallbacks[callback] = resolve;
			webkit.messageHandlers.fuhahaAction.postMessage({ callback, value1 });
		})).then(value2 => {
			delete window.fuhahaCallbacks[callback];
			webkit.messageHandlers.nativeAction.postMessage(value2);
		});
	})();

	false && (() => {
		Promise.resolve().then(() => new Promise(resolve => {
			navigator.mediaDevices.getUserMedia({ video: true, audio: false, }).then(resolve)
		})).then(stream => {
			document.getElementById("testVideo").srcObject = stream;
		});
	})();
});

// ----------------------------------------------------------------
// ----------------------------------------------------------------
// ----------------------------------------------------------------
	</script>
</body></html>
